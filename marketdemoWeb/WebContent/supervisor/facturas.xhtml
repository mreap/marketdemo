<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Facturas</title>
</h:head>
<body>
	<p:growl>
		<p:autoUpdate />
	</p:growl>
	<h:form>
		<p:menubar>
			<p:menuitem value="Inicio" action="index" icon="fa fa-home"></p:menuitem>
			<p:menuitem value="Pedidos" action="pedidos"
				icon="fa fa-shopping-cart"></p:menuitem>
			<p:menuitem value="Productos" action="productos" icon="fa fa-laptop"></p:menuitem>
			<p:menuitem value="ParÃ¡metros" action="parametros" icon="fa fa-cog"></p:menuitem>
			<f:facet name="options">
				<p:commandButton value="Salir" action="#{beanLogin.salirSistema()}"
					icon="fa fa-sign-out" />
			</f:facet>
		</p:menubar>
	</h:form>
	<br />
	<h:form id="form1">
		<p:dataTable value="#{beanFactura.listaFacturasCab}" var="f"
			id="tablaFacturas">
			<f:facet name="header">
				<h:outputText value="Listado de facturas" />
			</f:facet>
			<p:column headerText="NUMERO" style="width:80px">
				<h:outputText value="#{f.numeroFactura}"></h:outputText>
			</p:column>
			<p:column headerText="CLIENTE">
				<h:outputText
					value="#{f.cliente.cedulaCliente} #{f.cliente.apellidos} #{f.cliente.nombres}"></h:outputText>
			</p:column>
			<p:column headerText="FECHA" style="width:90px">
				<h:outputText value="#{f.fechaEmision}">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
			<p:column headerText="SUBTOTAL" style="width:100px">
				<h:outputText value="#{f.subtotal}">
					<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
				</h:outputText>
			</p:column>
			<p:column headerText="IVA" style="width:100px">
				<h:outputText value="#{f.valorIva}">
					<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
				</h:outputText>
			</p:column>
			<p:column headerText="TOTAL" style="width:100px">
				<h:outputText value="#{f.total}">
					<f:convertNumber maxFractionDigits="2" minFractionDigits="2" />
				</h:outputText>
			</p:column>
			<p:column headerText="DETALLE PRODUCTOS">
				<h:dataTable value="#{f.facturaDets}" var="fd">
					<h:column>
						<h:outputText value="#{fd.producto.nombre}" />
					</h:column>
				</h:dataTable>
			</p:column>
		</p:dataTable>
	</h:form>
</body>
</html>